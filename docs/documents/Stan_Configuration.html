<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Stan Configuration | @karmaniverous/stan</title><meta name="description" content="Documentation for @karmaniverous/stan"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">@karmaniverous/stan</a><div id="tsd-toolbar-links"><a href="https://github.com/karmaniverous/stan">GitHub</a></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="" aria-current="page">Stan Configuration</a></li></ul></div><div class="tsd-panel tsd-typography"><h1 id="stan-configuration-stanconfigyml--stanconfigjson" class="tsd-anchor-link">Stan Configuration (stan.config.yml / stan.config.json)<a href="#stan-configuration-stanconfigyml--stanconfigjson" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><p>This guide explains every configuration key, how STAN finds your config, how file selection works (includes/excludes), and how phase‑scoped CLI defaults (cliDefaults) influence the CLI when flags are omitted.</p>
<ul>
<li>Formats: YAML (recommended) or JSON.</li>
<li>Location: STAN searches upward from the current working directory for the nearest <code>stan.config.yml|yaml|json</code>.</li>
</ul>
<p>Minimal YAML example:</p>
<pre><code class="yaml"><span class="hl-7">stanPath</span><span class="hl-1">: </span><span class="hl-8">.stan</span><br/><span class="hl-7">includes</span><span class="hl-1">: []</span><br/><span class="hl-7">excludes</span><span class="hl-1">: []</span><br/><span class="hl-7">scripts</span><span class="hl-1">:</span><br/><span class="hl-1">  </span><span class="hl-7">build</span><span class="hl-1">: </span><span class="hl-8">npm run build</span><br/><span class="hl-1">  </span><span class="hl-7">lint</span><span class="hl-1">: </span><span class="hl-8">npm run lint</span><br/><span class="hl-1">  </span><span class="hl-7">test</span><span class="hl-1">: </span><span class="hl-8">npm run test</span><br/><span class="hl-1">  </span><span class="hl-7">typecheck</span><span class="hl-1">: </span><span class="hl-8">npm run typecheck</span>
</code><button type="button">Copy</button></pre>

<h2 id="resolution-rules-where-stan-reads-config" class="tsd-anchor-link">Resolution rules (where STAN reads config)<a href="#resolution-rules-where-stan-reads-config" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>STAN starts at the working directory and looks for the nearest <code>stan.config.yml</code>, <code>stan.config.yaml</code>, or <code>stan.config.json</code>.</li>
<li>The directory containing that file becomes the “repo root” for the current STAN run.</li>
<li>If no config is found, STAN falls back to defaults where applicable (for example, default <code>stanPath</code> is <code>.stan</code>) but many operations require an explicit config.</li>
</ul>
<h2 id="toplevel-keys" class="tsd-anchor-link">Top‑level keys<a href="#toplevel-keys" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="stanpath-string" class="tsd-anchor-link">stanPath (string)<a href="#stanpath-string" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Workspace folder for STAN’s operational files.</p>
<ul>
<li>Default: <code>.stan</code></li>
<li>Typical layout under <code>&lt;stanPath&gt;/</code>:
<ul>
<li><code>system/</code> — prompts and docs metadata</li>
<li><code>output/</code> — script outputs and <code>archive.tar</code>/<code>archive.diff.tar</code></li>
<li><code>diff/</code> — snapshot/history (<code>.archive.snapshot.json</code>, <code>.snap.state.json</code>, prior archives)</li>
<li><code>patch/</code> — canonical patch workspace</li>
<li><code>dist/</code> — dev build area for internal tasks (not published)</li>
</ul>
</li>
</ul>
<h3 id="scripts-object-of-string" class="tsd-anchor-link">scripts (object of string)<a href="#scripts-object-of-string" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Map of script keys to shell commands that STAN executes during <code>stan run</code>. The combined stdout/stderr of each command is written to <code>&lt;stanPath&gt;/output/&lt;key&gt;.txt</code>.</p>
<p>Example:</p>
<pre><code class="yaml"><span class="hl-7">scripts</span><span class="hl-1">:</span><br/><span class="hl-1">  </span><span class="hl-7">build</span><span class="hl-1">: </span><span class="hl-8">npm run build</span><br/><span class="hl-1">  </span><span class="hl-7">lint</span><span class="hl-1">: </span><span class="hl-8">npm run lint</span><br/><span class="hl-1">  </span><span class="hl-7">test</span><span class="hl-1">: </span><span class="hl-8">npm run test</span><br/><span class="hl-1">  </span><span class="hl-7">typecheck</span><span class="hl-1">: </span><span class="hl-8">npm run typecheck</span>
</code><button type="button">Copy</button></pre>

<p>Notes:</p>
<ul>
<li>Keys are free‑form (e.g., <code>build</code>, <code>docs</code>, <code>lint</code>).</li>
<li>Disallowed keys: <code>archive</code>, <code>init</code> (reserved by STAN).</li>
</ul>
<h3 id="includes-string" class="tsd-anchor-link">includes (string[])<a href="#includes-string" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Additive allow‑list of glob patterns. Matches are ADDED back to the base selection even if they would otherwise be excluded by <code>.gitignore</code> or default denials.</p>
<ul>
<li>Explicit <code>excludes</code> take precedence over <code>includes</code> (excludes win).</li>
<li>Reserved exclusions still apply:
<ul>
<li><code>&lt;stanPath&gt;/diff</code> is always excluded.</li>
<li><code>&lt;stanPath&gt;/output</code> is excluded unless combine mode includes it for archiving.</li>
</ul>
</li>
</ul>
<p>Use when you want to bring back files that would otherwise be ignored (e.g., docs or generated artifacts you do want to share).</p>
<pre><code class="yaml"><span class="hl-7">includes</span><span class="hl-1">:</span><br/><span class="hl-1">  - </span><span class="hl-8">&#39;**/*.md&#39;</span><br/><span class="hl-1">  - </span><span class="hl-8">&#39;docs/**&#39;</span>
</code><button type="button">Copy</button></pre>

<h3 id="excludes-string" class="tsd-anchor-link">excludes (string[])<a href="#excludes-string" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Deny‑list of glob/prefix patterns applied to the base selection in addition to default denials and <code>.gitignore</code>.</p>
<ul>
<li>Default denials: <code>.git</code>, <code>node_modules</code>.</li>
<li>STAN workspace rules:
<ul>
<li>Always exclude <code>&lt;stanPath&gt;/diff</code>.</li>
<li>Exclude <code>&lt;stanPath&gt;/output</code> unless combine mode includes it.</li>
</ul>
</li>
<li>Precedence: <code>excludes</code> take priority over <code>includes</code>.</li>
</ul>
<pre><code class="yaml"><span class="hl-7">excludes</span><span class="hl-1">:</span><br/><span class="hl-1">  - </span><span class="hl-8">&#39;**/.tsbuild/**&#39;</span><br/><span class="hl-1">  - </span><span class="hl-8">&#39;**/generated/**&#39;</span>
</code><button type="button">Copy</button></pre>

<p>Tip: Use excludes to reduce archive noise (tool state folders, large generated code) and use includes to bring back specific assets you want to share.</p>
<h3 id="maxundos-number" class="tsd-anchor-link">maxUndos (number)<a href="#maxundos-number" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Retention for snapshot history (<code>stan snap undo|redo|set</code>). Default: <code>10</code>.</p>
<pre><code class="yaml"><span class="hl-7">maxUndos</span><span class="hl-1">: </span><span class="hl-10">10</span>
</code><button type="button">Copy</button></pre>

<h3 id="patchopencommand-string" class="tsd-anchor-link">patchOpenCommand (string)<a href="#patchopencommand-string" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Editor command template used to open modified files after a successful <code>stan patch</code>. The token <code>{file}</code> expands to a repo‑relative path.</p>
<ul>
<li>Default: <code>code -g {file}</code> (VS Code; opens at the first line).</li>
<li>Examples:
<ul>
<li>WebStorm: <code>webstorm64.exe {file}</code></li>
<li>Cursor: <code>cursor -g {file}</code></li>
</ul>
</li>
</ul>
<pre><code class="yaml"><span class="hl-7">patchOpenCommand</span><span class="hl-1">: </span><span class="hl-8">&#39;code -g {file}&#39;</span>
</code><button type="button">Copy</button></pre>

<h3 id="devmode-boolean-optional" class="tsd-anchor-link">devMode (boolean) [optional]<a href="#devmode-boolean-optional" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Developer‑mode switch used by STAN’s own repo to detect when local development is happening (affects prompt assembly and preflight nudges). Consumers typically do not set this.</p>
<pre><code class="yaml"><span class="hl-7">devMode</span><span class="hl-1">: </span><span class="hl-6">false</span>
</code><button type="button">Copy</button></pre>

<h3 id="clidefaults-object" class="tsd-anchor-link">cliDefaults (object)<a href="#clidefaults-object" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Phase‑scoped defaults used when CLI flags are omitted. Precedence: flags &gt; cliDefaults &gt; built‑ins.</p>
<p>Schema:</p>
<pre><code class="yaml"><span class="hl-7">cliDefaults</span><span class="hl-1">:</span><br/><span class="hl-1">  </span><span class="hl-5"># root flags</span><br/><span class="hl-1">  </span><span class="hl-7">debug</span><span class="hl-1">: </span><span class="hl-6">false</span><span class="hl-1"> </span><span class="hl-5"># -d / -D</span><br/><span class="hl-1">  </span><span class="hl-7">boring</span><span class="hl-1">: </span><span class="hl-6">false</span><span class="hl-1"> </span><span class="hl-5"># -b / -B</span><br/><span class="hl-1">  </span><span class="hl-7">run</span><span class="hl-1">:</span><br/><span class="hl-1">    </span><span class="hl-7">archive</span><span class="hl-1">: </span><span class="hl-6">true</span><span class="hl-1"> </span><span class="hl-5"># -a / -A; combine implies archive=true</span><br/><span class="hl-1">    </span><span class="hl-7">combine</span><span class="hl-1">: </span><span class="hl-6">false</span><span class="hl-1"> </span><span class="hl-5"># -c / -C</span><br/><span class="hl-1">    </span><span class="hl-7">keep</span><span class="hl-1">: </span><span class="hl-6">false</span><span class="hl-1"> </span><span class="hl-5"># -k / -K</span><br/><span class="hl-1">    </span><span class="hl-7">sequential</span><span class="hl-1">: </span><span class="hl-6">false</span><span class="hl-1"> </span><span class="hl-5"># -q / -Q</span><br/><span class="hl-1">    </span><span class="hl-7">plan</span><span class="hl-1">: </span><span class="hl-6">true</span><span class="hl-1"> </span><span class="hl-5"># print the run plan header before execution when -p/-P not specified</span><br/><span class="hl-1">    </span><span class="hl-7">live</span><span class="hl-1">: </span><span class="hl-6">true</span><span class="hl-1"> </span><span class="hl-5"># -l / -L</span><br/><span class="hl-1">    </span><span class="hl-7">hangWarn</span><span class="hl-1">: </span><span class="hl-10">120</span><br/><span class="hl-1">    </span><span class="hl-7">hangKill</span><span class="hl-1">: </span><span class="hl-7">300    hangKillGrace</span><span class="hl-1">: </span><span class="hl-10">10</span><br/><span class="hl-1">    </span><span class="hl-5"># default script selection when neither -s nor -S is provided:</span><br/><span class="hl-1">    </span><span class="hl-5">#   true  =&gt; all scripts,</span><br/><span class="hl-1">    </span><span class="hl-5">#   false =&gt; none,</span><br/><span class="hl-1">    </span><span class="hl-5">#   [&quot;a&quot;,&quot;b&quot;] =&gt; only these keys</span><br/><span class="hl-1">    </span><span class="hl-7">scripts</span><span class="hl-1">: </span><span class="hl-6">true</span><br/><span class="hl-1">  </span><span class="hl-7">patch</span><span class="hl-1">:</span><br/><span class="hl-1">    </span><span class="hl-5"># default patch file when no argument/-f is provided, unless -F/--no-file is used</span><br/><span class="hl-1">    </span><span class="hl-7">file</span><span class="hl-1">: </span><span class="hl-8">.stan/patch/last.patch</span><br/><span class="hl-1">  </span><span class="hl-7">snap</span><span class="hl-1">:</span><br/><span class="hl-1">    </span><span class="hl-7">stash</span><span class="hl-1">: </span><span class="hl-6">false</span><span class="hl-1"> </span><span class="hl-5"># -s / -S</span>
</code><button type="button">Copy</button></pre>

<p>Examples:</p>
<ul>
<li>Default to all scripts, but disable archives unless requested:</li>
</ul>
<pre><code class="yaml"><span class="hl-7">cliDefaults</span><span class="hl-1">:</span><br/><span class="hl-1">  </span><span class="hl-7">run</span><span class="hl-1">:</span><br/><span class="hl-1">    </span><span class="hl-7">scripts</span><span class="hl-1">: </span><span class="hl-6">true</span><br/><span class="hl-1">    </span><span class="hl-7">archive</span><span class="hl-1">: </span><span class="hl-6">false</span>
</code><button type="button">Copy</button></pre>

<ul>
<li>Prefer sequential runs and capture a default patch file:</li>
</ul>
<pre><code class="yaml"><span class="hl-7">cliDefaults</span><span class="hl-1">:</span><br/><span class="hl-1">  </span><span class="hl-7">run</span><span class="hl-1">:</span><br/><span class="hl-1">    </span><span class="hl-7">sequential</span><span class="hl-1">: </span><span class="hl-6">true</span><br/><span class="hl-1">  </span><span class="hl-7">patch</span><span class="hl-1">:</span><br/><span class="hl-1">    </span><span class="hl-7">file</span><span class="hl-1">: </span><span class="hl-8">.stan/patch/pending.patch</span>
</code><button type="button">Copy</button></pre>

<ul>
<li>Prefer stashing before snapshot:</li>
</ul>
<pre><code class="yaml"><span class="hl-7">cliDefaults</span><span class="hl-1">:</span><br/><span class="hl-1">  </span><span class="hl-7">snap</span><span class="hl-1">:</span><br/><span class="hl-1">    </span><span class="hl-7">stash</span><span class="hl-1">: </span><span class="hl-6">true</span>
</code><button type="button">Copy</button></pre>

<h2 id="file-selection-archives--snapshots" class="tsd-anchor-link">File selection (archives &amp; snapshots)<a href="#file-selection-archives--snapshots" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>STAN selects files in two passes:</p>
<ol>
<li>Base selection</li>
</ol>
<ul>
<li>Applies <code>.gitignore</code> semantics, default denials (<code>node_modules</code>, <code>.git</code>), user <code>excludes</code>, and STAN workspace rules.</li>
<li>Reserved exclusions:
<ul>
<li>Always exclude <code>&lt;stanPath&gt;/diff</code>.</li>
<li>Exclude <code>&lt;stanPath&gt;/output</code> unless combine mode is enabled (archives include outputs and then remove them on disk).</li>
</ul>
</li>
</ul>
<ol start="2">
<li>Additive includes</li>
</ol>
<ul>
<li>Patterns in <code>includes</code> ADD matched files back into the selection even if excluded by <code>.gitignore</code> or default denials.</li>
<li>Explicit <code>excludes</code> still win over <code>includes</code>.</li>
</ul>
<p>Combine mode (<code>stan run -c</code>) behavior:</p>
<ul>
<li>Regular archive includes <code>&lt;stanPath&gt;/output</code> (but not the archive files themselves).</li>
<li>Diff archive excludes <code>&lt;stanPath&gt;/diff</code> and both <code>archive.tar</code>/<code>archive.diff.tar</code>.</li>
<li>After archiving in combine mode, on‑disk outputs are removed; the archives remain.</li>
</ul>
<h3 id="default-subpackage-exclusion" class="tsd-anchor-link">Default sub‑package exclusion<a href="#default-subpackage-exclusion" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>STAN excludes nested sub‑packages by default to reduce noise:</p>
<ul>
<li>Any directory (at any depth) that contains its own <code>package.json</code> is treated as an independent sub‑package and excluded from the base selection.</li>
<li>The repository root itself (root‑level <code>package.json</code>) is not excluded.</li>
<li>Reserved exclusions still apply (see above).</li>
</ul>
<p>To include a specific sub‑package, add an <code>includes</code> glob. For example:</p>
<pre><code class="yaml"><span class="hl-7">includes</span><span class="hl-1">:</span><br/><span class="hl-1">  - </span><span class="hl-8">&#39;packages/app1/**&#39;</span><span class="hl-1"> </span><span class="hl-5"># re‑include a nested package</span>
</code><button type="button">Copy</button></pre>

<h2 id="cli-defaults--precedence" class="tsd-anchor-link">CLI defaults &amp; precedence<a href="#cli-defaults--precedence" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>Flags override everything.</li>
<li>If a flag is omitted, STAN consults <code>cliDefaults</code>.</li>
<li>If not in <code>cliDefaults</code>, STAN uses built‑ins:
<ul>
<li><code>run.archive=true</code>, <code>run.combine=false</code>, <code>run.keep=false</code>, <code>run.sequential=false</code>, <code>run.scripts=true</code>, <code>run.live=true</code></li>
<li>Hang thresholds (TTY-oriented):
<ul>
<li><code>run.hangWarn=120</code> (seconds before labeling “stalled”),</li>
<li><code>run.hangKill=300</code> (seconds before escalating from SIGTERM→SIGKILL),</li>
<li><code>run.hangKillGrace=10</code> (seconds grace between TERM and KILL).</li>
</ul>
</li>
<li><code>patch.file</code> unset</li>
<li><code>snap.stash=false</code></li>
<li>root: <code>debug=false</code>, <code>boring=false</code></li>
</ul>
</li>
</ul>
<p>Examples:</p>
<ul>
<li>Run all scripts and archive (built‑ins) vs config turning off archive:</li>
</ul>
<pre><code class="bash"><span class="hl-5"># Built-ins: archives enabled</span><br/><span class="hl-3">stan</span><span class="hl-1"> </span><span class="hl-4">run</span><br/><br/><span class="hl-5"># With config:</span><br/><span class="hl-5"># cliDefaults.run.archive=false</span><br/><span class="hl-5"># =&gt; No archives unless you pass -a</span><br/><span class="hl-3">stan</span><span class="hl-1"> </span><span class="hl-4">run</span><br/><span class="hl-3">stan</span><span class="hl-1"> </span><span class="hl-4">run</span><span class="hl-1"> </span><span class="hl-6">-a</span><span class="hl-1">   </span><span class="hl-5"># force archives this time</span>
</code><button type="button">Copy</button></pre>

<ul>
<li>Plan toggles:</li>
</ul>
<pre><code class="bash"><span class="hl-3">stan</span><span class="hl-1"> </span><span class="hl-4">run</span><span class="hl-1"> </span><span class="hl-6">-p</span><span class="hl-1">   </span><span class="hl-5"># print the plan and exit</span><br/><span class="hl-3">stan</span><span class="hl-1"> </span><span class="hl-4">run</span><span class="hl-1"> </span><span class="hl-6">-P</span><span class="hl-1">   </span><span class="hl-5"># execute without printing the plan first</span>
</code><button type="button">Copy</button></pre>

<h2 id="practical-snippets" class="tsd-anchor-link">Practical snippets<a href="#practical-snippets" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>YAML with glob excludes and additive includes:</li>
</ul>
<pre><code class="yaml"><span class="hl-7">stanPath</span><span class="hl-1">: </span><span class="hl-8">.stan</span><br/><span class="hl-7">excludes</span><span class="hl-1">:</span><br/><span class="hl-1">  - </span><span class="hl-8">&#39;**/.tsbuild/**&#39;</span><br/><span class="hl-1">  - </span><span class="hl-8">&#39;**/generated/**&#39;</span><br/><span class="hl-7">includes</span><span class="hl-1">:</span><br/><span class="hl-1">  - </span><span class="hl-8">&#39;docs/**&#39;</span><span class="hl-1"> </span><span class="hl-5"># bring docs back even if ignored</span><br/><span class="hl-1">  - </span><span class="hl-8">&#39;**/*.md&#39;</span><br/><span class="hl-7">scripts</span><span class="hl-1">:</span><br/><span class="hl-1">  </span><span class="hl-7">lint</span><span class="hl-1">: </span><span class="hl-8">npm run lint</span><br/><span class="hl-1">  </span><span class="hl-7">test</span><span class="hl-1">: </span><span class="hl-8">npm run test</span><br/><span class="hl-7">maxUndos</span><span class="hl-1">: </span><span class="hl-10">10</span><br/><span class="hl-7">patchOpenCommand</span><span class="hl-1">: </span><span class="hl-8">&#39;code -g {file}&#39;</span><br/><span class="hl-7">cliDefaults</span><span class="hl-1">:</span><br/><span class="hl-1">  </span><span class="hl-7">run</span><span class="hl-1">:</span><br/><span class="hl-1">    </span><span class="hl-7">scripts</span><span class="hl-1">: </span><span class="hl-6">true</span><br/><span class="hl-1">    </span><span class="hl-7">archive</span><span class="hl-1">: </span><span class="hl-6">true</span><br/><span class="hl-1">    </span><span class="hl-7">sequential</span><span class="hl-1">: </span><span class="hl-6">false</span><br/><span class="hl-1">  </span><span class="hl-7">snap</span><span class="hl-1">:</span><br/><span class="hl-1">    </span><span class="hl-7">stash</span><span class="hl-1">: </span><span class="hl-6">false</span>
</code><button type="button">Copy</button></pre>

<ul>
<li>JSON variant (stan.config.json):</li>
</ul>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-11">&quot;stanPath&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;.stan&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-11">&quot;includes&quot;</span><span class="hl-1">: [],</span><br/><span class="hl-1">  </span><span class="hl-11">&quot;excludes&quot;</span><span class="hl-1">: [</span><span class="hl-4">&quot;**/.tsbuild/**&quot;</span><span class="hl-1">, </span><span class="hl-4">&quot;**/generated/**&quot;</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-11">&quot;scripts&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-11">&quot;build&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;npm run build&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-11">&quot;lint&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;npm run lint&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-11">&quot;test&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;npm run test&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-11">&quot;typecheck&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;npm run typecheck&quot;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-11">&quot;maxUndos&quot;</span><span class="hl-1">: </span><span class="hl-10">10</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-11">&quot;patchOpenCommand&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;code -g {file}&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-11">&quot;cliDefaults&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-11">&quot;debug&quot;</span><span class="hl-1">: </span><span class="hl-6">false</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-11">&quot;boring&quot;</span><span class="hl-1">: </span><span class="hl-6">false</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-11">&quot;run&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-11">&quot;archive&quot;</span><span class="hl-1">: </span><span class="hl-6">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-11">&quot;combine&quot;</span><span class="hl-1">: </span><span class="hl-6">false</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-11">&quot;keep&quot;</span><span class="hl-1">: </span><span class="hl-6">false</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-11">&quot;sequential&quot;</span><span class="hl-1">: </span><span class="hl-6">false</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-11">&quot;live&quot;</span><span class="hl-1">: </span><span class="hl-6">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-11">&quot;hangWarn&quot;</span><span class="hl-1">: </span><span class="hl-10">120</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-11">&quot;hangKill&quot;</span><span class="hl-1">: </span><span class="hl-10">300</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-11">&quot;hangKillGrace&quot;</span><span class="hl-1">: </span><span class="hl-10">10</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-11">&quot;scripts&quot;</span><span class="hl-1">: </span><span class="hl-6">true</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-11">&quot;patch&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-11">&quot;file&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;.stan/patch/last.patch&quot;</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-11">&quot;snap&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-11">&quot;stash&quot;</span><span class="hl-1">: </span><span class="hl-6">false</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="tips" class="tsd-anchor-link">Tips<a href="#tips" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>Keep <code>scripts</code> deterministic: tests, typecheckers, and linters that always produce stable output are ideal.</li>
<li>Use <code>excludes</code> to trim large/generated noise and <code>includes</code> to bring back specific assets you want to share.</li>
<li>Prefer LF in your repo; STAN normalizes line endings when applying patches and counts LOC for large‑text warnings.</li>
</ul>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#stan-configuration-stanconfigyml--stanconfigjson"><span>Stan <wbr/>Configuration (stan.config.yml / stan.config.json)</span></a><ul><li><a href="#resolution-rules-where-stan-reads-config"><span>Resolution rules (where <wbr/>STAN reads config)</span></a></li><li><a href="#toplevel-keys"><span>Top‑level keys</span></a></li><li><ul><li><a href="#stanpath-string"><span>stan<wbr/>Path (string)</span></a></li><li><a href="#scripts-object-of-string"><span>scripts (object of string)</span></a></li><li><a href="#includes-string"><span>includes (string[])</span></a></li><li><a href="#excludes-string"><span>excludes (string[])</span></a></li><li><a href="#maxundos-number"><span>max<wbr/>Undos (number)</span></a></li><li><a href="#patchopencommand-string"><span>patch<wbr/>Open<wbr/>Command (string)</span></a></li><li><a href="#devmode-boolean-optional"><span>dev<wbr/>Mode (boolean) [optional]</span></a></li><li><a href="#clidefaults-object"><span>cli<wbr/>Defaults (object)</span></a></li></ul></li><li><a href="#file-selection-archives--snapshots"><span>File selection (archives &amp; snapshots)</span></a></li><li><ul><li><a href="#default-subpackage-exclusion"><span>Default sub‑package exclusion</span></a></li></ul></li><li><a href="#cli-defaults--precedence"><span>CLI defaults &amp; precedence</span></a></li><li><a href="#practical-snippets"><span>Practical snippets</span></a></li><li><a href="#tips"><span>Tips</span></a></li></ul></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://github.com/karmaniverous/stan" class="tsd-nav-link">GitHub</a></nav><nav class="tsd-navigation"><a href="../modules.html">@karmaniverous/stan</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
